fragment ActivityFields on activities {
  id
  name
  short_description
  long_description
  start_datetime
  end_datetime
  type
  address
  state
  district
  media_files
  additional_instructions
}

mutation AddOrganisationActivity($input: activitiesInsertInput!) {
  insertIntoactivitiesCollection(objects: [$input]) {
    affectedCount
    records {
      ...ActivityFields
      organisational_activityCollection {
        edges {
          node {
            id
            organisation {
              id
              name
            }
          }
        }
      }
      activity_memberCollection {
        edges {
          node {
            id
            post
            priority
            member {
              name
              profile_image
              phone_number
            }
          }
        }
      }
    }
  }
}

mutation AddStudentAdmissionData($input: admissionInsertInput!){
  insertIntoadmissionCollection(objects: [$input]){
    affectedCount
  }
}

mutation DeleteActivity($id: String!) {
  deleteFromactivitiesCollection(filter: {id: {eq: $id}}, atMost: 1) {
    affectedCount
  }
}

mutation updateJoinUsLabel($input: String!){
  updateapp_labelsCollection(
    set: { label_value: $input },
    filter: { label_key: { eq: "join_us" } }){
    affectedCount
  }
}

mutation CreateBookOrder($input: book_ordersInsertInput!) {
  insertIntobook_ordersCollection(objects: [$input]) {
    affectedCount
    records {
      fullname
      address
      city
      district
      state
      pincode
      country
      mobile
      district_officer_name
      district_officer_number
      payment_receipt_url
      created_at
    }
  }
}

mutation updateOrganisationLogo($id: String!, $imageUrl: String!) {
  updateorganisationCollection(
    set: {logo: $imageUrl}
    filter: {id: {eq: $id}}
    atMost: 1
  ) {
    affectedCount
  }
}

mutation updateOrganisationDescription($id: String!, $description: String!){
  updateorganisationCollection(
    set: {description: $description}
    filter: {id: {eq: $id}}
    atMost: 1
  ) {
    affectedCount
  }
}

mutation registerForSatr(
  $fullName: String!,
  $gender: String!,
  $mobile: String!,
  $aadharNo: String!,
  $educationalQualification: String!,
  $address: String!,
  $inspirationSource: String!,
  $inspirationSourceName: String,
  $inspirationSourceNo: String,
  $hasTrainedAryaInFamily: Boolean!,
  $trainedAryaName: String,
  $trainedAryaNo: String,
  $activityId: String!,
){
  insertIntosatr_registrationCollection(
    objects: [
      {
        fullname: $fullName,
        gender: $gender,
        mobile: $mobile,
        aadhar_no: $aadharNo,
        educational_qualification: $educationalQualification,
        address: $address,
        inspiration_source: $inspirationSource,
        inspiration_source_name: $inspirationSourceName,
        inspiration_source_no: $inspirationSourceNo,
        has_trained_arya_in_family: $hasTrainedAryaInFamily,
        trained_arya_name: $trainedAryaName,
        trained_arya_no: $trainedAryaNo,
        activity_id: $activityId,
      }
    ]
  ){
    affectedCount
    records {
      id
    }
  }
}