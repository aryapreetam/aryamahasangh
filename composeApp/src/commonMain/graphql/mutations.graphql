fragment ActivityFields on activities {
  id
  name
  short_description
  long_description
  start_datetime
  end_datetime
  type
  address
  state
  district
  media_files
  additional_instructions
}

mutation AddOrganisationActivity($input: activitiesInsertInput!) {
  insertIntoactivitiesCollection(objects: [$input]) {
    affectedCount
    records {
      ...ActivityFields
      organisational_activityCollection {
        edges {
          node {
            id
            organisation {
              id
              name
            }
          }
        }
      }
      activity_memberCollection {
        edges {
          node {
            id
            post
            priority
            member {
              name
              profile_image
              phone_number
            }
          }
        }
      }
    }
  }
}

mutation AddStudentAdmissionData($input: admissionInsertInput!){
  insertIntoadmissionCollection(objects: [$input]){
    affectedCount
  }
}

mutation DeleteActivity($id: String!) {
  deleteFromactivitiesCollection(filter: {id: {eq: $id}}, atMost: 1) {
    affectedCount
  }
}

mutation updateJoinUsLabel($input: String!){
  updateapp_labelsCollection(
    set: { label_value: $input },
      filter: { label_key: { eq: "join_us" } }
  ){
    affectedCount
  }
}

mutation CreateBookOrder($input: book_ordersInsertInput!) {
  insertIntobook_ordersCollection(objects: [$input]) {
    affectedCount
    records {
      fullname
      address
      city
      district
      state
      pincode
      country
      mobile
      district_officer_name
      district_officer_number
      payment_receipt_url
      created_at
    }
  }
}

mutation updateOrganisationLogo($id: String!, $imageUrl: String!) {
  updateorganisationCollection(
    set: {logo: $imageUrl}
    filter: {id: {eq: $id}}
    atMost: 1
  ) {
    affectedCount
  }
}

mutation updateOrganisationDescription($id: String!, $description: String!){
  updateorganisationCollection(
    set: {description: $description}
    filter: {id: {eq: $id}}
    atMost: 1
  ) {
    affectedCount
  }
}

mutation registerForSatr(
  $fullName: String!,
  $gender: String!,
  $mobile: String!,
  $aadharNo: String!,
  $educationalQualification: String!,
  $address: String!,
  $inspirationSource: String!,
  $inspirationSourceName: String,
  $inspirationSourceNo: String,
  $hasTrainedAryaInFamily: Boolean!,
  $trainedAryaName: String,
  $trainedAryaNo: String,
  $activityId: String!,
){
  insertIntosatr_registrationCollection(
    objects: [
      {
        fullname: $fullName,
        mobile: $mobile,
        aadhar_no: $aadharNo,
        educational_qualification: $educationalQualification,
        address: $address,
        inspiration_source: $inspirationSource,
        inspiration_source_name: $inspirationSourceName,
        inspiration_source_no: $inspirationSourceNo,
        has_trained_arya_in_family: $hasTrainedAryaInFamily,
        trained_arya_name: $trainedAryaName,
        trained_arya_no: $trainedAryaNo,
        activity_id: $activityId,
        gender: $gender
      }
    ]
  ){
    affectedCount
    records {
      id
    }
  }
}

mutation addMemberToOrganisation($memberId: String!, $organisationId: String!, $post: String!, $priority: Int!) {
  insertIntoorganisational_memberCollection(
    objects: [{member_id: $memberId, organisation_id: $organisationId, post: $post, priority: $priority}]
  ) {
    affectedCount
  }
}

mutation addMembersToOrganisation($input: [organisational_memberInsertInput!]!){
    insertIntoorganisational_memberCollection(
        objects: $input
    ){
        affectedCount
    }
}

mutation removeMemberFromOrganisation($organisationalMemberId: String!) {
  deleteFromorganisational_memberCollection(
    filter: {id: {eq: $organisationalMemberId}}
  ) {
    affectedCount
  }
}

mutation updateOrganisationalMemberPost($organisationalMemberId: String!, $post: String!) {
  updateorganisational_memberCollection(
    set: { post: $post }
    filter: {id: {eq: $organisationalMemberId} }
  ){
    affectedCount
  }
}



mutation updateOrganisationalMemberPriority($organisationalMemberId: String!, $priority: Int!) {
  updateorganisational_memberCollection(
    set: { priority: $priority }
    filter: {id: {eq: $organisationalMemberId} }
  ){
    affectedCount
  }
}



mutation addMember($name: String!, $phoneNumber: String!, $educationalQualification: String!, $profileImageUrl: String!, $email: String, $address: String, $state: String, $district: String, $pincode: String) {
  insertIntomemberCollection(
    objects: [{
      name: $name,
      phone_number: $phoneNumber,
      educational_qualification: $educationalQualification,
      profile_image: $profileImageUrl,
      email: $email,
      address: $address,
      state: $state,
      district: $district,
      pin: $pincode
    }]
  ) {
    affectedCount
  }
}

mutation deleteMember($memberId: String!){
  deleteFrommemberCollection(filter: { id: {eq: $memberId} }){
    affectedCount
  }
}

mutation updateMemberPhoto($memberId: String!, $profileImageUrl: String!) {
  updatememberCollection(
    filter: {id: {eq: $memberId}}
    set: {profile_image: $profileImageUrl}
  ) {
    affectedCount
  }
}

mutation updateMemberDetails($memberId: String!, $name: String!, $phoneNumber: String!, $educationalQualification: String, $email: String, $address: String, $state: String, $district: String, $pincode: String) {
  updatememberCollection(
    filter: {id: {eq: $memberId}}
    set: {
      name: $name,
      phone_number: $phoneNumber,
      educational_qualification: $educationalQualification,
      email: $email,
      address: $address,
      state: $state,
      district: $district,
      pin: $pincode
    }
  ) {
    affectedCount
  }
}

mutation UpdateActivity(
    $id: String!,
    $input: activitiesUpdateInput!
) {
    updateactivitiesCollection(
        filter: {id: {eq: $id}}
        set: $input
    ) {
        affectedCount
        records {
            ...ActivityFields
    }
  }
}

mutation createOrganisation($name: String!, $logo: String!, $description: String!, $priority: Int!) {
    insertIntoorganisationCollection(
        objects: [{name: $name, logo: $logo, description: $description, priority: $priority}]
    ) {
        affectedCount
        records{
            id
        }
    }
}

mutation removeOrganisation($organisationId: String!) {
    deleteFromorganisationCollection(filter: {id: {eq: $organisationId}}) {
        affectedCount
    }
}
